<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="SARL is a general-purpose agent-oriented language.
SARL aims at providing the fundamental abstractions for dealing with concurrency, distribution, interaction, decentralization, reactivity, autonomy and dynamic reconfiguration. These high-level features are now considered as the major requirements for an easy and practical implementation of modern complex software applications. We are convinced that the agent-oriented paradigm holds the keys to effectively meet this challenge.
Considering the variety of existing approaches and meta-models in the field of agent-oriented engineering and more generally multi-agent systems, our approach remains as generic as possible and highly extensible to easily integrate new concepts and features. The language is platform- and architecture-independent.
">
    <meta name="author" content="SARL Team">
    <link rel="icon" href="../../../images/favicon.ico" />
    <link rel="shortcut icon" href="../../../images/favicon.ico">

    <title>Agent Reference</title>

    <link rel="stylesheet" href="../../../css/bootstrap.min.css">
    <link rel="stylesheet" href="../../../css/font-awesome.min.css">
    <link rel="stylesheet" href="../../../css/pygments.css">
    <link rel="stylesheet" href="../../../css/custom.css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>

    

<!-- Fixed navbar -->
<div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="http://www.sarl.io">SARL</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="../../../index.html">Home</a></li>
        <li><a href="../../../docs/index.html">Documentation</a></li>
        <li><a href="../../../download/index.html">Download</a></li>
        <li><a href="../../../runtime/index.html">Run-time</a></li>
        <li><a href="../../../community/index.html">Community</a></li>
        <li><a href="../../../news/index.html">News &amp; Events</a></li>
        <li><a href="../../../publications/index.html">Publications &amp; Presentations</a></li>
        <li><a href="../../../about/index.html">About</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</div>

    <div class="container">
		
		<a href="https://github.com/sarl/sarl" target="_blank"><img
			style="position: absolute; top: 40px; right: 0; border: 0;"
			src="https://github-camo.global.ssl.fastly.net/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" 
			alt="Fork me on GitHub"
			data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
		
      <h1 id="agent-reference">Agent Reference</h1>

<ul class="page_outline" id="page_outline">

<li><a href="#1-where-is-living-an-agent">1. Where is living an agent?</a></li>
<ul>
  <li><a href="#1-1-default-context">1.1. Default Context</a></li>
  <li><a href="#1-2-external-contexts">1.2. External Contexts</a></li>
  <li><a href="#1-3-from-flat-to-hierarchical-system-with-the-inner-context">1.3. From Flat to Hierarchical System with the Inner Context</a></li>
  <li><a href="#1-4-universe-agent-and-universe-context">1.4. Universe Agent and Universe Context</a></li>
</ul>

<p><li><a href="#2-open-architecture-of-an-agent">2. Open Architecture of an Agent</a></li>
<ul>
  <li><a href="#2-1-built-in-capacities">2.1. Built-in Capacities</a></li>
  <li><a href="#2-2-agent-behaviors">2.2. Agent Behaviors</a></li>
</ul>
<li><a href="#3-defining-an-agent">3. Defining an Agent</a></li>
<ul>
  <li><a href="#3-1-defining-an-empty-agent">3.1. Defining an empty agent</a></li>
  <li><a href="#3-2-agent-attributes">3.2. Agent Attributes</a></li>
  <li><a href="#3-3-agent-actions">3.3. Agent Actions</a></li>
  <li><a href="#3-4-extending-an-agent">3.4. Extending an Agent</a></li>
  <li><a href="#3-5-modifiers">3.5. Modifiers</a></li>
</ul>
<li><a href="#4-behaviors-of-an-agent">4. Behaviors of an Agent</a></li>
<ul>
  <li><a href="#4-1-initialization-handler">4.1. Initialization Handler</a></li>
  <li><a href="#4-2-guarded-initialization-handler">4.2. Guarded Initialization Handler</a></li>
  <li><a href="#4-3-destruction-handler">4.3. Destruction Handler</a></li>
  <li><a href="#4-4-guarded-destruction-handler">4.4. Guarded Destruction Handler</a></li>
  <li><a href="#4-5-reactive-behaviors">4.5. Reactive Behaviors</a></li>
  <li><a href="#4-6-parallel-execution-of-the-reactive-behaviors">4.6. Parallel Execution of the Reactive Behaviors</a></li>
  <li><a href="#4-7-pro-active-behaviors">4.7. Pro-active Behaviors</a></li>
</ul>
<li><a href="#5-capacities-and-skills">5. Capacities and Skills</a></li>
<ul>
  <li><a href="#5-1-defining-a-capacity-and-a-skill">5.1. Defining a Capacity and a Skill</a></li>
  <li><a href="#5-2-giving-a-skill-to-an-agent">5.2. Giving a Skill to an Agent</a></li>
  <li><a href="#5-3-giving-a-built-in-skill-to-an-agent">5.3. Giving a Built-in Skill to an Agent</a></li>
  <li><a href="#5-4-using-a-capacity-with-the-getters">5.4. Using a Capacity with the Getters</a></li>
  <li><a href="#5-5-using-a-built-in-capacity-with-the-getters">5.5. Using a Built-in Capacity with the Getters</a></li>
  <li><a href="#5-6-using-a-capacity-with-the-extension-methods">5.6. Using a Capacity with the Extension Methods</a></li>
  <li><a href="#5-7-using-a-built-in-capacity-with-the-extension-methods">5.7. Using a Built-in Capacity with the Extension Methods</a></li>
</ul>
<li><a href="#6-legal-notice">6. Legal Notice</a></li></p>

<p></ul></p>

<p>This document describes the features related to the definition of an agent in SARL.
Before reading this document, we recommend that you read
the <a href="./GeneralSyntax.html">General Syntax Reference</a>,
the <a href="./Skill.html">Skill Reference</a>, and the
<a href="./BIC.html">Built-in Capacity Reference</a>.</p>

<p><strong>An agent is an autonomous entity having a set of skills to realize the capacities it exhibits</strong>.</p>

<h2 id="1-where-is-living-an-agent">1. Where is living an agent?</h2>

<p>Before detailing the architecture and the definition tools of an agent, it may be helpful to understand
where is &quot;living&quot; an agent in the multi-agent system.</p>

<p>The following figure illustrates the position of an agent (at the center of the figure) in different contexts.
The details are discussed below. </p>

<p><img src="./contexts.png" alt="Contexts"></p>

<h3 id="1-1-default-context">1.1. Default Context</h3>

<p>When it is spawn, an agent is living inside the system in a place named &quot;<em>Context</em>&quot;.</p>

<p><strong>A Context defines the boundary of a sub-system, and gathers a collection of spaces</strong>.
A Space is the support of the interaction between agents respecting the rules defined in the spaces&#39; specification.</p>

<p><importantnote>In each context, there is at least one particular space called <em>Default Space</em> to which
all agents in this context belong.</importantnote></p>

<p>It ensures the existence of a common shared space to all agents in the same context. Each agent can then create
specific public or private spaces to achieve its personal goals (the blue space on the figure above).</p>

<p><importantnote> Since their creation, agents are incorporated into a context called the <strong>Default Context</strong>.
It is important to notice that the <em>Default Context</em> is not necessarily the same for every agent.</importantnote></p>

<p>An agent has an identifier for each space it is involved in. For the case of event-based interaction
spaces, this identifier is  called &quot;address&quot;. </p>

<h3 id="1-2-external-contexts">1.2. External Contexts</h3>

<p>During its lifetime, an agent may join and participate in other contexts that are not the default context.
They are called the external contexts of the agent.</p>

<p><note> There is no restriction about the number of contexts in which an agent is belonging to, except
that it is always in its default context.</note></p>

<p>For joining or leaving a context, the agent must use the <code class="prettyprint">ExternalContextAccess</code> built-in capacity. It is detailed in the
<a href="./BIC.html">Built-in Capacity Reference</a>.</p>

<h3 id="1-3-from-flat-to-hierarchical-system-with-the-inner-context">1.3. From Flat to Hierarchical System with the Inner Context</h3>

<p>In 1967, Arthur Koestler coined the term <em>holon</em> as an attempt to
conciliate holistic and reductionist visions of the world.
A holon represents a part-whole construct that can be seen as a
component of a higher level system or as whole composed of other
self-similar holons as substructures.</p>

<p>Holonic Systems grew from the need to find comprehensive construct
that could help explain social phenomena. Since then, it came to be
used in a wide range of domains, including Philosophy,
Manufacturing Systems, and Multi-Agents Systems.</p>

<p>Several works have studied this question and they have proposed a number
of models inspired from their experience in different domains.
In many cases, we find the idea of <em>agents composed of other agents</em>.</p>

<p>More recently, the importance of holonic multi-agent systems has been
recognized by different methodologies such as <a href="http://www.aspecs.org/Home">ASPECS</a> or O-MASE.</p>

<p><note>In SARL, we recognize that agents can be composed of other agents. Therefore, SARL agents
are in fact holons that can compose each other to define hierarchical
or recursive multi-agent system, called holarchies.</note></p>

<p>In order to achieve this, SARL agents are self-similar structures that 
compose each other via their contexts. Each agent defines its own context, called <strong>Inner Context</strong>.
Because this inner context may be joined by other agents, or agents may
be spawn inside this inner context, it is possible to build a holarchy.</p>

<p><veryimportantnote> An agent is always a participant of the default space of its inner space.</veryimportantnote></p>

<p><importantnote label="Note"> The unique identifier (usually a Unique Universal Identifier) of
the inner context is equal to the unique identifier of its owning agent.</importantnote></p>

<h3 id="1-4-universe-agent-and-universe-context">1.4. Universe Agent and Universe Context</h3>

<p>At the top level of the holarchy, we consider an omnipresent agent. It is named the <strong>Universe Agent</strong> (or <em>Root Agent</em>).
The runtime environment will be in charge of spawning the first agents in the system as members of the Universe Agent.</p>

<p>The inner context of the Universe Agent is called the Universe Context, or the Janus Context if you are using the
<a href="http://www.janusproject.io">Janus runtime environment</a>.</p>

<h2 id="2-open-architecture-of-an-agent">2. Open Architecture of an Agent</h2>

<p>The architecture of an agent is illustrated by the following figure.</p>

<p><img src="./agent.png" alt="Agent"></p>

<h3 id="2-1-built-in-capacities">2.1. Built-in Capacities</h3>

<p>An agent has a set of built-in capacities considered essential to respect the
commonly accepted competencies of agents, such autonomy, reactivity, pro-activity
and social capacities. </p>

<p>The full set of Built-in Capacities will be presented in the corresponding
<a href="./BIC.html">Reference document</a>. Among these
built-in capacities, is the <code class="prettyprint">Behaviors</code> capacity that enables 
agents to incorporate a collection of behaviors that will determine 
its global conduct.</p>

<h3 id="2-2-agent-behaviors">2.2. Agent Behaviors</h3>

<p>An agent has also a default behavior directly described within its definition.</p>

<p><strong>A Behavior maps a collection of perceptions represented by Events to a sequence of Actions.</strong>
The various behaviors of an agent communicate using an event-driven approach.</p>

<p><strong>An Event is the specification of some occurrence in a Space that may
potentially trigger effects by a listener</strong> (e.g., agent, behavior, etc.) </p>

<h2 id="3-defining-an-agent">3. Defining an Agent</h2>

<p>An agent is declared with the <code class="prettyprint">agent</code> keyword. In the agent&#39;s body block, we can declare Mental States
(in the form of attributes), Actions and Behaviors.</p>

<h3 id="3-1-defining-an-empty-agent">3.1. Defining an empty agent</h3>

<p>The following code illustrates the definition of an agent named <code class="prettyprint">MyAgent</code>, and that is empty.
Basically, this agent does nothing, and does not react on events. </p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="3-2-agent-attributes">3.2. Agent Attributes</h3>

<p>The mental state of an agent is composed by the data in the knowledge of the agent.
Most of the time, the mental state is implemented as a collection of attributes in the agent.</p>

<p>According to the <a href="./GeneralSyntax.html">General Syntax Reference</a>,
the attributes may be modifiable (when declared with the <code class="prettyprint">var</code> keyword), or unmodifiable (when
declared with the <code class="prettyprint">val</code> keyword).</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="c1">// Defining a modifiable element of the mental state</span>
    <span class="kd">var</span> <span class="n">mentalStateElement1</span> <span class="o">:</span> <span class="n">String</span>
    <span class="c1">// Defining an unmodifiable element of the mental state</span>
    <span class="kd">val</span> <span class="n">mentalStateElement2</span> <span class="o">:</span> <span class="kt">boolean</span> <span class="o">=</span> <span class="kc">true</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="3-3-agent-actions">3.3. Agent Actions</h3>

<p>It is allowed to define actions (methods) in the agent.
The syntax described is described in the <a href="./GeneralSyntax.html">General Syntax Reference</a>.</p>

<p>The example below illustrates the creation of two actions in the agent.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="c1">// Defining an action without parameter nor return type</span>
    <span class="kd">def</span> <span class="n">myAction1</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Hello world&quot;</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="c1">// Defining an action with a variadic parameter and no return type</span>
    <span class="kd">def</span> <span class="nf">myAction2</span><span class="o">(</span><span class="n">param</span> <span class="o">:</span> <span class="kt">int</span><span class="o">*)</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;params are &quot;</span> <span class="o">+</span> <span class="n">param</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="3-4-extending-an-agent">3.4. Extending an Agent</h3>

<p>In some use cases, it is useful to specialize the definition
of an agent. This mechanism is supported by the inheritance
feature of SARL, which has the same semantic as the inheritance
mechanism as the Java object-oriented language.</p>

<p>The extended agent is specified just after the <code class="prettyprint">extends</code> keyword.</p>

<p><veryimportantnote> An agent type can extend <strong>only one</strong> other agent type. This is close
to the constraint on the extension of classes in the Java language.</veryimportantnote></p>

<p>In the following code, a first agent is defined with the name
<code class="prettyprint">MyAgent</code> and an attribute named <code class="prettyprint">attr</code>.
A second agent <code class="prettyprint">MySubAgent</code> is defined as the extension of the first agent. It contains a function named
<code class="prettyprint">action</code>, which is displaying the inherited attribute.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="kd">protected</span> <span class="kd">var</span> <span class="n">attr</span> <span class="o">:</span> <span class="n">String</span>
<span class="o">}</span>
<span class="kd">agent</span> <span class="nc">MySubAgent</span> <span class="k">extends</span> <span class="n">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="kd">def</span> <span class="n">action</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="n">attr</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="3-5-modifiers">3.5. Modifiers</h3>

<p>Modifiers are used to modify declarations of types and type members.
This section introduces the modifiers for the agent.
The modifiers are usually written before the keyword for defining the agent.</p>

<p>The complete description of the modifiers&#39; semantic is available in
<a href="./OOP.html#7-modifiers">this section</a>.</p>

<h4 id="agent-modifiers">Agent Modifiers</h4>

<p>An agent may be declared with one or more modifiers, which affect its runtime behavior:</p>

<ul>
<li>Access modifiers:

<ul>
<li><code class="prettyprint">public</code>: the agent is accessible from any other type (default);</li>
<li><code class="prettyprint">package</code>: the agent is accessible from only the types in the same package.</li>
</ul></li>
<li><code class="prettyprint">abstract</code>: the agent is abstract and cannot be instanced.</li>
<li><code class="prettyprint">final</code>: avoid to be derived.</li>
</ul>

<p>Examples:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">public</span> <span class="kd">agent</span> <span class="nc">Example1</span> <span class="o">{</span>
<span class="o">}</span>
<span class="kn">package</span> <span class="kd">agent</span> <span class="nc">Example2</span> <span class="o">{</span>
<span class="o">}</span>
<span class="kd">abstract</span> <span class="kd">agent</span> <span class="nc">Example3</span> <span class="o">{</span>
<span class="o">}</span>
<span class="kd">final</span> <span class="kd">agent</span> <span class="nc">Example4</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<h4 id="field-modifiers">Field Modifiers</h4>

<p>The modifiers for the fields in an agent are:</p>

<ul>
<li>Access modifiers:

<ul>
<li><code class="prettyprint">protected</code>: the field is accessible within the same package, and derived agents;</li>
<li><code class="prettyprint">package</code>: the field is accessible only within the same package of its agent;</li>
<li><code class="prettyprint">private</code>: the field is accessible only within its agent (default).</li>
</ul></li>
</ul>

<p>Examples:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">protected</span> <span class="kd">var</span> <span class="n">example1</span> <span class="o">:</span> <span class="n">Object</span>
<span class="kn">package</span> <span class="kd">var</span> <span class="n">example2</span> <span class="o">:</span> <span class="n">Object</span>
<span class="kd">private</span> <span class="kd">var</span> <span class="n">example3</span> <span class="o">:</span> <span class="n">Object</span>
</code></pre></div>
<h4 id="method-modifiers">Method Modifiers</h4>

<p>The modifiers for the methods in an agent are:</p>

<ul>
<li>Access modifiers:

<ul>
<li><code class="prettyprint">protected</code>: the method is accessible within the same package, and derived classes (default);</li>
<li><code class="prettyprint">package</code>: the method is accessible only within the same package as its class;</li>
<li><code class="prettyprint">private</code>: the method is accessible only within its class.</li>
</ul></li>
<li><code class="prettyprint">abstract</code>: the method has no implementation in the class.</li>
<li><code class="prettyprint">dispatch</code>: the method provides an implementation for the dispatch method mechanism.</li>
<li><code class="prettyprint">final</code>: the method cannot be overridden in derived classes.</li>
<li><code class="prettyprint">static</code>: the method is a class method, not an instance method.</li>
<li><code class="prettyprint">synchronized</code>: the method is synchronized on the class instance.</li>
</ul>

<p>Examples:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="c1">// Protected access function</span>
<span class="kd">protected</span> <span class="kd">def</span> <span class="n">example1</span> <span class="o">{</span> <span class="o">}</span>
<span class="c1">// Package access function</span>
<span class="kn">package</span> <span class="kd">def</span> <span class="n">example2</span> <span class="o">{</span> <span class="o">}</span>
<span class="c1">// Private access function</span>
<span class="kd">private</span> <span class="kd">def</span> <span class="n">example3</span> <span class="o">{</span> <span class="o">}</span>
<span class="c1">// Abstract function</span>
<span class="kd">abstract</span> <span class="kd">def</span> <span class="n">example4</span>
<span class="c1">// Not-overridable function</span>
<span class="kd">final</span> <span class="kd">def</span> <span class="n">example5</span> <span class="o">{</span> <span class="o">}</span>
<span class="c1">// Static function</span>
<span class="kd">static</span> <span class="kd">def</span> <span class="n">example6</span> <span class="o">{</span> <span class="o">}</span>
<span class="c1">// Synchronized function</span>
<span class="kd">synchronized</span> <span class="kd">def</span> <span class="n">example7</span> <span class="o">{</span> <span class="o">}</span>
<span class="c1">// Dispatch functions</span>
<span class="kd">dispatch</span> <span class="kd">def</span> <span class="nf">example8</span><span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">Integer</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
<span class="kd">dispatch</span> <span class="kd">def</span> <span class="nf">example8</span><span class="o">(</span><span class="n">p</span> <span class="o">:</span> <span class="n">Float</span><span class="o">)</span> <span class="o">{</span> <span class="o">}</span>
</code></pre></div>
<h4 id="restriction-on-the-nested-type-modifiers">Restriction on the Nested Type Modifiers</h4>

<p>All the <a href="./OOP.html">modifiers for the nested types</a> are allowed <strong>except</strong>
<code class="prettyprint">public</code>. </p>

<h2 id="4-behaviors-of-an-agent">4. Behaviors of an Agent</h2>

<p>The behaviors of an agent correspond to the units that are executed by the agent for exhibiting its general behavior.</p>

<p>The execution of the behaviors are related to the life cycle of the agents. Every agent is following the steps:</p>

<ul>
<li>Initialization: the agent react on the <code class="prettyprint">Initialize</code> event;</li>
<li>Lifetime: the agent execute its behaviors. They may be:

<ul>
<li>reactive: the agent react when it is receiving events, or</li>
<li>proactive: the agent executes by itself one of its behaviors.</li>
</ul></li>
<li>Destruction: the agent react on the <code class="prettyprint">Destroy</code> event.</li>
</ul>

<p>The definition of the reactive behaviors is based on the event handling
mechanism of SARL. Events may be emitted in <a href="./Space.html">spaces</a>,
and received by the agents belonging to these spaces.
An agent may indicate that it is interesting for receiving an event by specifying
an event handler using the following syntax:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="k">on</span> <span class="n">EventName</span> <span class="o">[</span><span class="n">Guard</span><span class="o">]</span> <span class="o">{</span>
    <span class="n">Statements</span>
<span class="o">}</span>
</code></pre></div>
<p><code class="prettyprint">EventName</code> is the name of the events to wait for. <code class="prettyprint">Guard</code> is the optional definition of a predicate
that may be true for executing the <code class="prettyprint">Statements</code>. The statements are executed only if an event with the given name is
received, <strong>and</strong> if the guard is true.</p>

<p>In the guard and the statements, it is possible to use the instance of the received event: the occurrence.
This instance is represented by the <code class="prettyprint">occurrence</code> keyword. It is an implicit
variable as the keywords <code class="prettyprint">this</code> and <code class="prettyprint">it</code>.</p>

<h3 id="4-1-initialization-handler">4.1. Initialization Handler</h3>

<p>When an agent is ready to be executed by the runtime environment, it receives the <code class="prettyprint">Initialize</code> event.
This event is defined as:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">interface</span> <span class="nc">Initialize</span> <span class="k">extends</span> <span class="n">Event</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<p>It contains the list of the parameters given to the spawning function (as specified in the 
<a href="./BIC.html">built-in capacities</a>).</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;My spawner is &quot;</span> <span class="o">+</span> <span class="kc">occurrence</span><span class="o">.</span><span class="n">spawner</span><span class="o">)</span>
        <span class="n">info</span><span class="o">(</span>
            <span class="s">&quot;My initialization parameters are: &quot;</span>
            <span class="o">+</span> <span class="kc">occurrence</span><span class="o">.</span><span class="n">parameters</span> <span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="4-2-guarded-initialization-handler">4.2. Guarded Initialization Handler</h3>

<p>Because <code class="prettyprint">Initialize</code> is an event, the handler in the agent could use a guard. This feature enables
the developer to write different initialization blocks depending on the guards of the handlers.</p>

<p>In the following example, the first event handler is executed when the <code class="prettyprint">Initialize</code> event has
no parameter. The second event handler is executed when the event has at least one parameter.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">[</span> <span class="kc">occurrence</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">empty</span> <span class="o">]</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Initialization without parameters&quot;</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">[</span> <span class="o">!</span> <span class="kc">occurrence</span><span class="o">.</span><span class="n">parameters</span><span class="o">.</span><span class="n">empty</span> <span class="o">]</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Initialization with parameters: &quot;</span>
            <span class="o">+</span> <span class="kc">occurrence</span><span class="o">.</span><span class="n">parameters</span> <span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="4-3-destruction-handler">4.3. Destruction Handler</h3>

<p>The counterpart of <code class="prettyprint">Initialize</code> is the event <code class="prettyprint">Destroy</code>. This event is defined as:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">interface</span> <span class="nc">Destroy</span> <span class="k">extends</span> <span class="n">Event</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<p>Example:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="k">on</span> <span class="n">Destroy</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Destroying the agent&quot;</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="4-4-guarded-destruction-handler">4.4. Guarded Destruction Handler</h3>

<p>As for <code class="prettyprint">Initialize</code>, the handlers of the <code class="prettyprint">Destroy</code> event could be guarded.</p>

<p>In the following example, the first event handler is executed when the <code class="prettyprint">Destroy</code>
is receivedand there is resource stored in the corresponding field. The second event handler
is executed when there is no resource.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="kd">var</span> <span class="n">resource</span> <span class="o">:</span> <span class="n">Object</span>
    <span class="k">on</span> <span class="n">Destroy</span> <span class="o">[</span> <span class="n">resource</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">]</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Destroying the agent when there is a resource&quot;</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="k">on</span> <span class="n">Destroy</span> <span class="o">[</span> <span class="n">resource</span> <span class="o">===</span> <span class="kc">null</span> <span class="o">]</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Destroying the agent when there is no resource&quot;</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="4-5-reactive-behaviors">4.5. Reactive Behaviors</h3>

<p>The reactive behavior of an agent is specified with a collection
of event handlers. The principle of a reactive behavior is to execute a part of the global
agent behavior when something has happening in the agent, or in its environment.</p>

<p>In the following example, the agent is reacting to the reception of the <code class="prettyprint">SomethingChanged</code> event.</p>

<p>As for all the event handlers, it could be guarded by a predicate.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="k">on</span> <span class="n">SomethingChanged</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Reactive behavior&quot;</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="4-6-parallel-execution-of-the-reactive-behaviors">4.6. Parallel Execution of the Reactive Behaviors</h3>

<p>When an event is received and the guard of the corresponding handler is true, the event
handler is said to be triggered.</p>

<p>When multiple event handlers are triggered at the same time, they are all executed in parallel.
In the following example, the two handlers for the <code class="prettyprint">SomethingChanged</code> event are executed in parallel.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="k">on</span> <span class="n">SomethingChanged</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;First reactive behavior&quot;</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="k">on</span> <span class="n">SomethingChanged</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Second reactive behavior&quot;</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="4-7-pro-active-behaviors">4.7. Pro-active Behaviors</h3>

<p>A proactive behavior is a part of the global behavior of an agent that the
agent is deciding to execute by itself.
The execution of a reactive behavior is initiated by a part of the code external to this
behavior. In opposite, the initiator of the execution of a proactive behavior is the
agent itself.</p>

<p>In SARL, a proactive behavior is a behavior that is scheduled by the agent. The scheduling
mechanism is provided by the <a href="./BIC.html"><code class="prettyprint">Schedules</code> built-in capacity</a>.
In the following example, the agent execute its proactive behavior every second.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Schedules</span><span class="o">,</span> <span class="n">Logging</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">{</span>
        <span class="n">every</span><span class="o">(</span><span class="mi">1000</span><span class="o">)</span> <span class="o">[</span>
            <span class="n">info</span><span class="o">(</span><span class="s">&quot;Run a pro-active behavior&quot;</span><span class="o">)</span>
        <span class="o">]</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="5-capacities-and-skills">5. Capacities and Skills</h2>

<p>An agent is an autonomous entity having a set of skills to realize the capacities it exhibits.
An agent has a set of built-in capacities considered essential to respect the commonly
accepted competencies of agents, such autonomy, reactivity, pro-activity and social capacities. </p>

<h3 id="5-1-defining-a-capacity-and-a-skill">5.1. Defining a Capacity and a Skill</h3>

<p>The definition of a capacity or a skill is out of the scope of this reference document. For details, please read
the <a href="./Capacity.html">Capacity Reference</a>, and the <a href="./Skill.html">Skill Reference</a>.</p>

<p>In the rest of this section, it is assumed that the following capacity and skill are defined:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">capacity</span> <span class="nc">Cap</span> <span class="o">{</span>
    <span class="kd">def</span> <span class="n">action</span>
<span class="o">}</span>

<span class="kd">skill</span> <span class="nc">Ski</span> <span class="k">implements</span> <span class="n">Cap</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Logging</span>
    <span class="kd">def</span> <span class="n">action</span> <span class="o">{</span>
        <span class="n">info</span><span class="o">(</span><span class="s">&quot;Action&quot;</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="5-2-giving-a-skill-to-an-agent">5.2. Giving a Skill to an Agent</h3>

<p>When an agent must use a capacity in one of its behaviors, it must own an implementation of this capacity: a skill.</p>

<p>For assigning a skill to an agent, the instance of the skill must be created. Then, it is associated with the
implemented capacity.
In the following example, the agent is creating the <code class="prettyprint">Ski</code> skill. This instance is associated with
the corresponding capacity <code class="prettyprint">Cap</code> with the function <code class="prettyprint">setSkill(Skill, Class&lt;? extends Capacity&gt;*)</code>.</p>

<p>When the function <code class="prettyprint">setSkill</code> is returning, the agent becomes able to use the skill.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">{</span>
        <span class="kd">var</span> <span class="n">theSkill</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ski</span>
        <span class="n">setSkill</span><span class="o">(</span><span class="n">theSkill</span><span class="o">)</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="5-3-giving-a-built-in-skill-to-an-agent">5.3. Giving a Built-in Skill to an Agent</h3>

<p>Because the built-in capacities are supported by the runtime environment, the corresponding
skills are given to the agent. It means that there is no need for an agent to set a skill for
a built-in capacity.</p>

<p>However, in rare cases, it is possible to use the function <code class="prettyprint">setSkill(Skill, Class&lt;? extends Capacity&gt;*)</code> for
changing the implementation of a built-in capacity.</p>

<h3 id="5-4-using-a-capacity-with-the-getters">5.4. Using a Capacity with the Getters</h3>

<p>After a skill is registered into the agent, it could be invoked.</p>

<p>For invoking a function implemented by a skill, the two following steps must be done:</p>

<ul>
<li>Retrieve the skill instance: the function <code class="prettyprint">getSkill(Class&lt;? extends Capacity&gt;)</code> permits retrieving the skill associated to the given capacity;</li>
<li>Invoke the capacity&#39;s action on the retrieved skill.</li>
</ul>

<p><note>This method of invocation is not recommended by the SARL developers. You should
prefer the use of the extension methods (see below).</note></p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">{</span>
        <span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ski</span>
        <span class="n">setSkill</span><span class="o">(</span> <span class="n">s</span><span class="o">,</span> <span class="n">Cap</span> <span class="o">)</span>
    <span class="o">}</span>
    <span class="k">on</span> <span class="n">SomeEvent</span> <span class="o">{</span>
        <span class="c1">// Retreive the capacity implementation</span>
        <span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="n">getSkill</span><span class="o">(</span><span class="n">Cap</span><span class="o">)</span>
        <span class="c1">// Run the action of the skill</span>
        <span class="n">s</span><span class="o">.</span><span class="n">action</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="5-5-using-a-built-in-capacity-with-the-getters">5.5. Using a Built-in Capacity with the Getters</h3>

<p>The built-in capacities are accessible in the same way as the other capacities, with the getters.</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">on</span> <span class="n">SomeEvent</span> <span class="o">{</span>
        <span class="c1">// Retreive the capacity implementation</span>
        <span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="n">getSkill</span><span class="o">(</span><span class="n">Lifecycle</span><span class="o">)</span>
        <span class="c1">// Run the action of the skill</span>
        <span class="n">s</span><span class="o">.</span><span class="n">killMe</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="5-6-using-a-capacity-with-the-extension-methods">5.6. Using a Capacity with the Extension Methods</h3>

<p>Invoking a capacity/skill with the getter method is not user-friendly. Since the
<a href="./GeneralSyntax.html">General Syntax Reference</a> describes the &quot;extension method&quot;
mechanism, it is possible to use it for invoking the capacities.</p>

<p>But, instead of using an <code class="prettyprint">import</code> directive, the <code class="prettyprint">uses</code> keyword is provided for importing the
capacities into the agent. In the following example, the <code class="prettyprint">Cap</code> capacity is imported.</p>

<p>After a capacity was &quot;imported&quot;, it is possible to directly call the functions of the capacity
(according to the extension method syntax). In the following example, the action
with the name <code class="prettyprint">action</code> is invoked. This action is defined in the <code class="prettyprint">Cap</code> capacity. </p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Cap</span>
    <span class="k">on</span> <span class="n">Initialize</span> <span class="o">{</span>
        <span class="kd">var</span> <span class="n">s</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ski</span>
        <span class="n">setSkill</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
    <span class="o">}</span>
    <span class="k">on</span> <span class="n">SomeEvent</span> <span class="o">{</span>
        <span class="c1">// Run the action of the skill</span>
        <span class="n">action</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h3 id="5-7-using-a-built-in-capacity-with-the-extension-methods">5.7. Using a Built-in Capacity with the Extension Methods</h3>

<p>The built-in capacities are accessible in the same way as the other capacities, with the extension methods.</p>

<p>Example:</p>
<div class="highlight"><pre><code class="language-sarl" data-lang="sarl"><span class="kd">agent</span> <span class="nc">MyAgent</span> <span class="o">{</span>
    <span class="k">uses</span> <span class="n">Lifecycle</span>
    <span class="k">on</span> <span class="n">SomeEvent</span> <span class="o">{</span>
        <span class="c1">// Run the action of the skill</span>
        <span class="n">killMe</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="6-legal-notice">6. Legal Notice</h2>

<ul>
<li>Specification: SARL General-purpose Agent-Oriented Programming Language (&quot;Specification&quot;)</li>
<li>Version: 0.6</li>
<li>Status: Stable Release</li>
<li>Release: 2017-09-14</li>
</ul>

<blockquote>
<p>Copyright &copy; 2014-2017 <a href="http://www.sarl.io/about/index.html">the original authors or authors</a>.</p>

<p>Licensed under the Apache License, Version 2.0;
you may not use this file except in compliance with the License.
You may obtain a copy of the <a href="http://www.apache.org/licenses/LICENSE-2.0">License</a>.</p>

<p>You are free to reproduce the content of this page on copyleft websites such as Wikipedia.</p>
</blockquote>

<p><small>Generated with the translator io.sarl.maven.docs.generator 0.6.0.</small></p>

    </div> <!-- /default layout container -->

    <div class="container">
  <!-- FOOTER -->
  <footer>
    <div class="row">
      
    <div class="col-lg-3">
    <div class="well well-sm">
      
      <center>
      <h2>SARL</h2>
      <div>Agent-Oriented Programming Language</div>
      <img src="../../../images/SARL-logo.png" style="width:30%;max-width:64px;"/><br/>
      <small><a href="../../../images/SARL-logo.png">png</a>&nbsp;&middot;&nbsp;<a href="../../../images/SARL-logo.svg">svg</a></small>
      </center>
    </div>
    </div>
    <div class="col-lg-3">
      <div class="well well-sm">
      <h2><i class="glyphicon glyphicon-th-large"></i> Quick Links </h2> 
      <ul class="fa-ul">
		  <li>
			<a href="../../../news/index.html">
			  <i class="fa-li fa fa-feed"></i> News
			</a>
		  </li>
		  <li>
			<a href="../../../about/index.html">
			  <i class="fa-li fa fa-info"></i> About
			</a>
		  </li>
		  <li>
			<a href="../../../about/index.html#license">
			  <i class="fa-li fa fa-legal"></i> License
			</a>
		  </li>
      </ul>
      </div> 
    </div>
    <div class="col-lg-3">
      <div class="well well-sm">
      <h2><i class="glyphicon glyphicon-cog"></i> Support</h2>
      <ul class="fa-ul">
		  <li>
			<a href="../../../community/forums.html">
			  <i class="fa-li fa fa-comments"></i> User Forums
			</a>
		  </li>
		
		  <li>
			<a href="https://github.com/sarl/sarl" target="_blank">
			  <i class="fa-li fa fa-github"></i> GitHub
			</a>
		  </li>
		  <li>
			<a href="https://github.com/sarl/sarl/issues" target="_blank">
			  <i class="fa-li fa fa-bug"></i> Report an Issue
			</a>
		  </li>
		
		
		
		  <li>
			<a href="https://www.facebook.com/sarllanguage" target="_blank">
			  <i class="fa-li fa fa-facebook"></i> Facebook
			</a>
		  </li>
		
		
		
      </ul>
      </div> 
    </div>
    <div class="col-lg-3">
      <div class="well well-sm">
      <h2><i class="glyphicon glyphicon-link"></i> Links</h2>
      <ul class="fa-ul">
        <li><a href="http://www.janusproject.io" target="_blank"><i class="fa-li fa fa-gears"></i>Janus Project</a></li>
        <li><a href="http://www.gitia.org" target="_blank"><i class="fa-li fa fa-university"></i>GITIA - FRT - UTN</a></li>
        <li><a href="http://www.multiagent.fr" target="_blank"><i class="fa-li fa fa-university"></i>MAS Group - LE2I - UBFC</a></li>
      </ul>
      </div> 
    </div>
    </div>
    
  </footer>
</div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="../../../js/jquery.min.js"></script>
    <script src="../../../js/bootstrap.min.js"></script>
    <script src="../../../js/run_prettify.js"></script>
	<script src="../../../js/lang-sarl.js"></script>
  </body>
</html>
